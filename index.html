<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner Semanal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <section>
        <h1>Novembro</h1>
        <div class="planner">
            <div class="day">
                <h2>Segunda-feira</h2>
                <div class="event" id="evento1">
                    <div class="info" style="background-color: hsl(314, 100%, 69%);">
                        <label for="nome1">Nome:</label>
                        <input type="text" id="nome1" placeholder="Nome do evento">
                        <label for="data1">Data:</label>
                        <input type="date" id="data1">
                        <label for="categoria1">Categoria:</label>
                        <input type="text" id="categoria1" placeholder="Categoria do evento">
                        <label for="concluido1">Concluído:</label>
                        <input type="checkbox" id="concluido1">
                    </div>
                    <div class="info" id="info1" data-evento="evento1">
                        <label for="infoTexto1">Informações:</label>
                        <textarea id="infoTexto1" rows="4" placeholder="Descrição da informação"></textarea>
                    </div>
                </div>
            </div>
            <div class="day">
                <h2>Terça-feira</h2>
                <div class="event" id="evento2">
                    <div class="info" style="background-color: #3c4fa2;">
                        <label for="nome2">Nome:</label>
                        <input type="text" id="nome2" placeholder="Nome do evento">
                        <label for="data2">Data:</label>
                        <input type="date" id="data2">
                        <label for="categoria2">Categoria:</label>
                        <input type="text" id="categoria2" placeholder="Categoria do evento">
                        <label for="concluido2">Concluído:</label>
                        <input type="checkbox" id="concluido2">
                    </div>
                    <div class="info" id="info2" data-evento="evento2">
                        <label for="infoTexto2">Informações:</label>
                        <textarea id="infoTexto2" rows="4" placeholder="Descrição da informação"></textarea>
                    </div>
                </div>
            </div>
            <div class="day">
                <h2>Quarta-feira</h2>
                <div class="event" id="evento3">
                    <div class="info" style="background-color: #db923f;">
                        <label for="nome3">Nome:</label>
                        <input type="text" id="nome3" placeholder="Nome do evento">
                        <label for="data3">Data:</label>
                        <input type="date" id="data3">
                        <label for="categoria3">Categoria:</label>
                        <input type="text" id="categoria3" placeholder="Categoria do evento">
                        <label for="concluido3">Concluído:</label>
                        <input type="checkbox" id="concluido3">
                    </div>
                    <div class="info" id="info3" data-evento="evento3">
                        <label for="infoTexto3">Informações:</label>
                        <textarea id="infoTexto3" rows="4" placeholder="Descrição da informação"></textarea>
                    </div>
                </div>
            </div>
            <div class="day">
                <h2>Quinta-feira</h2>
                <div class="event" id="evento4">
                    <div class="info" style="background-color: #27d43e;">
                        <label for="nome4">Nome:</label>
                        <input type="text" id="nome4" placeholder="Nome do evento">
                        <label for="data4">Data:</label>
                        <input type="date" id="data4">
                        <label for="categoria4">Categoria:</label>
                        <input type="text" id="categoria4" placeholder="Categoria do evento">
                        <label for="concluido4">Concluído:</label>
                        <input type="checkbox" id="concluido4">
                    </div>
                    <div class="info" id="info4" data-evento="evento4">
                        <label for="infoTexto4">Informações:</label>
                        <textarea id="infoTexto4" rows="4" placeholder="Descrição da informação"></textarea>
                    </div>
                </div>
            </div>
            <div class="day">
                <h2>Sexta-feira</h2>
                <div class="event" id="evento5">
                    <div class="info" style="background-color: #30dee4;">
                        <label for="nome5">Nome:</label>
                        <input type="text" id="nome5" placeholder="Nome do evento">
                        <label for="data5">Data:</label>
                        <input type="date" id="data5">
                        <label for="categoria5">Categoria:</label>
                        <input type="text" id="categoria5" placeholder="Categoria do evento">
                        <label for="concluido5">Concluído:</label>
                        <input type="checkbox" id="concluido5">
                    </div>
                    <div class="info" id="info5" data-evento="evento5">
                        <label for="infoTexto5">Informações:</label>
                        <textarea id="infoTexto5" rows="5" placeholder="Descrição da informação"></textarea>
     </section>
     <script>
        document.addEventListener('DOMContentLoaded', function() {
            const days = document.querySelectorAll('.day');
    
            days.forEach(day => {
                day.addEventListener('click', function() {
                    const dateInput = day.querySelector('input[type="date"]');
                    const currentDate = new Date(dateInput.value);
                    const newDate = new Date(currentDate);
                    newDate.setDate(newDate.getDate() + 7);
                    const formattedDate = newDate.toISOString().substr(0, 10);
                    dateInput.value = formattedDate;
    
                    const dayOfWeek = newDate.getDay();
                    const dayNames = ['Domingo', 'Segunda-feira', 'Terça-feira', 'Quarta-feira', 'Quinta-feira', 'Sexta-feira', 'Sábado'];
                    const selectedDay = dayNames[dayOfWeek];
    
                    // Adicionando dados do evento
                    const plannerData = {
                        id: '1', // Você pode gerar um ID único
                        nome: 'Evento',
                        data: formattedDate,
                        categoria: 'Categoria do evento',
                        concluido: false,
                        informacoes: 'Descrição do evento'
                    };
    
                    // Enviando dados para o servidor
                    fetch('http://localhost:3000/api/planner', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(plannerData)
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Resposta do servidor:', data);
                    })
                    .catch(error => {
                        console.error('Erro ao enviar dados para o servidor:', error);
                    });
    
                    // Atualizar o texto do h2
                    const h2Element = day.querySelector('h2');
                    h2Element.textContent = selectedDay;
                });
            });
        });
    </script>
    